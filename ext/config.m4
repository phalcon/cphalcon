PHP_ARG_ENABLE(phalcon, whether to enable phalcon framework, [ --enable-phalcon   Enable phalcon framework])

if test "$PHP_PHALCON" = "yes"; then
  AC_DEFINE(HAVE_PHALCON, 1, [Whether you have Phalcon Framework])
  PHP_NEW_EXTENSION(phalcon, phalcon.c kernel/main.c kernel/fcall.c kernel/require.c kernel/debug.c kernel/assert.c kernel/object.c kernel/array.c kernel/string.c kernel/filter.c kernel/operators.c kernel/concat.c kernel/exception.c kernel/file.c kernel/memory.c kernel/experimental/fcall.c session/adapterinterface.c session/baginterface.c session/exception.c session/adapter/files.c session/adapter.c session/bag.c loader.c di.c text.c mvc/viewinterface.c mvc/router/exception.c mvc/router/route.c mvc/router/routeinterface.c mvc/dispatcherinterface.c mvc/router.c mvc/micro.c mvc/urlinterface.c mvc/dispatcher/exception.c mvc/collection/exception.c mvc/collection/manager.c mvc/view.c mvc/collection.c mvc/view/engine.c mvc/view/exception.c mvc/view/engineinterface.c mvc/view/engine/php.c mvc/view/engine/volt.c mvc/view/engine/volt/compiler.c mvc/url.c mvc/controller.c mvc/application/exception.c mvc/url/exception.c mvc/dispatcher.c mvc/model.c mvc/micro/exception.c mvc/model/validator/uniqueness.c mvc/model/validator/presenceof.c mvc/model/validator/exclusionin.c mvc/model/validator/regex.c mvc/model/validator/inclusionin.c mvc/model/validator/stringlength.c mvc/model/validator/numericality.c mvc/model/validator/email.c mvc/model/query.c mvc/model/resultset/complex.c mvc/model/resultset/simple.c mvc/model/query/builder.c mvc/model/query/statusinterface.c mvc/model/query/status.c mvc/model/query/builderinterface.c mvc/model/query/lang.c mvc/model/resultsetinterface.c mvc/model/exception.c mvc/model/queryinterface.c mvc/model/transactioninterface.c mvc/model/metadatainterface.c mvc/model/messageinterface.c mvc/model/managerinterface.c mvc/model/criteria.c mvc/model/validatorinterface.c mvc/model/relation.c mvc/model/criteriainterface.c mvc/model/validator.c mvc/model/row.c mvc/model/transaction/exception.c mvc/model/transaction/managerinterface.c mvc/model/transaction/failed.c mvc/model/transaction/manager.c mvc/model/behavior.c mvc/model/resultinterface.c mvc/model/metadata.c mvc/model/message.c mvc/model/manager.c mvc/model/behavior/timestampable.c mvc/model/metadata/memory.c mvc/model/metadata/files.c mvc/model/metadata/apc.c mvc/model/metadata/session.c mvc/model/resultset.c mvc/model/transaction.c mvc/modelinterface.c mvc/routerinterface.c mvc/collectioninterface.c mvc/user/plugin.c mvc/user/module.c mvc/user/component.c mvc/application.c mvc/controllerinterface.c mvc/moduledefinitioninterface.c config/exception.c config/adapter/ini.c exception.c db.c dispatcherinterface.c logger.c cache/frontendinterface.c cache/exception.c cache/frontend/base64.c cache/frontend/output.c cache/frontend/none.c cache/frontend/data.c cache/backendinterface.c cache/backend.c cache/backend/mongo.c cache/backend/memcache.c cache/backend/apc.c cache/backend/file.c acl/adapterinterface.c acl/exception.c acl/resourceinterface.c acl/adapter/memory.c acl/adapter.c acl/role.c acl/roleinterface.c acl/resource.c escaperinterface.c diinterface.c paginator/adapterinterface.c paginator/exception.c paginator/adapter/model.c paginator/adapter/nativearray.c tag/exception.c tag/select.c filterinterface.c flashinterface.c filter/exception.c security/exception.c flash/direct.c flash/exception.c flash/session.c escaper/exception.c dispatcher.c translate.c db/dialectinterface.c db/profiler.c db/adapterinterface.c db/referenceinterface.c db/columninterface.c db/exception.c db/reference.c db/dialect.c db/adapter/pdo/mysql.c db/adapter/pdo/postgresql.c db/adapter/pdo/sqlite.c db/adapter/pdo.c db/adapter.c db/indexinterface.c db/profiler/item.c db/rawvalue.c db/resultinterface.c db/column.c db/index.c db/result/pdo.c db/dialect/mysql.c db/dialect/postgresql.c db/dialect/sqlite.c tag.c kernel.c http/cookie.c http/cookie/exception.c http/requestinterface.c http/request/exception.c http/request/fileinterface.c http/request/file.c http/response/exception.c http/response/headers.c http/response/cookies.c http/response/headersinterface.c http/response.c http/request.c http/responseinterface.c security.c session.c version.c flash.c config.c filter.c di/factorydefault/cli.c di/serviceinterface.c di/exception.c di/injectable.c di/service.c di/injectionawareinterface.c di/factorydefault.c events/event.c events/exception.c events/managerinterface.c events/eventsawareinterface.c events/manager.c acl.c translate/adapterinterface.c translate/exception.c translate/adapter/nativearray.c translate/adapter.c escaper.c cli/task.c cli/router/exception.c cli/router.c cli/dispatcher/exception.c cli/console.c cli/dispatcher.c cli/console/exception.c logger/adapterinterface.c logger/exception.c logger/adapter/file.c logger/adapter.c logger/item.c loader/exception.c mvc/model/query/parser.c mvc/model/query/scanner.c mvc/view/engine/volt/parser.c mvc/view/engine/volt/scanner.c, $ext_shared)
fi
